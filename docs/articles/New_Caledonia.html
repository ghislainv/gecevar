<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="gecevar">
<title>New Caledonia • gecevar</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="New Caledonia">
<meta property="og:description" content="gecevar">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">gecevar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/New_Caledonia.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ghislainv/gecevar">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>New Caledonia</h1>
            
      
      
      <div class="d-none name"><code>New_Caledonia.Rmd</code></div>
    </div>

    
    
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>Install the development version of <strong>cegevar</strong> from <a href="https://github.com/ghislainv/gecevar" class="external-link">Github</a> with
<code>devtools::install_github("ghislainv/gecevar")</code></p>
</div>
<div class="section level2">
<h2 id="import-libraries">Import libraries<a class="anchor" aria-label="anchor" href="#import-libraries"></a>
</h2>
<p>First thing to do is import <strong>gecevar</strong> library.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">gecevar</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="get-extent-and-latitudelongitude-coordinates">Get extent and latitude/longitude coordinates<a class="anchor" aria-label="anchor" href="#get-extent-and-latitudelongitude-coordinates"></a>
</h2>
<p>In this example, we take New Caledonia as example. It’s French island
near to New Zeland and Tonga’s islands. we need to begin to find EPSG
code for New Caledonia. It’s can be found in <a href="https://epsg.io" class="external-link">epsg.io</a>. Beware to keep the same EPSG for all
functions in this package.</p>
<p>One small check on <a href="https://www.naturalearthdata.com/downloads/10m-cultural-vectors/10m-admin-0-details/" class="external-link">https://www.naturalearthdata.com/</a>
to make sure that New Caledonia is available as
<code>country_name</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">name</span> <span class="op">&lt;-</span> <span class="st">"New Caledonia"</span></span>
<span><span class="va">epsg</span> <span class="op">&lt;-</span> <span class="fl">3163</span></span>
<span><span class="va">all_extent</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/transform_shp_country_extent.html">transform_shp_country_extent</a></span><span class="op">(</span>EPSG <span class="op">=</span> <span class="va">epsg</span>,</span>
<span>                                           country_name <span class="op">=</span> <span class="va">name</span>,</span>
<span>                                           shapefile_path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                                           extent_short <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="va">extent</span> <span class="op">&lt;-</span> <span class="va">all_extent</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="va">extent_latlon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">all_extent</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p>We got as output a vector size 5. First output is a character with
extent of New Caledonia according to EPSG:3163. Four next output are
extent in latitude and longitude coordinates, (same extent as with
EPSG:4326).</p>
</div>
<div class="section level2">
<h2 id="download-environmental-variables-in-one-file">Download environmental variables in one file<a class="anchor" aria-label="anchor" href="#download-environmental-variables-in-one-file"></a>
</h2>
<p>One variable is protected area named WDPA in downloaded file. This
variable need an identification by country name. Make sure that our
country name is available in <a href="https://www.protectedplanet.net/en/thematic-areas/wdpa?tab=WDPA" class="external-link">www.protectedplanet.net</a>.
Otherwise leave <code>country_name = NULL</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">environ_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_env_variables.html">get_env_variables</a></span><span class="op">(</span>extent_latlon <span class="op">=</span> <span class="va">extent_latlon</span>,</span>
<span>                                  extent <span class="op">=</span> <span class="va">extent</span>,</span>
<span>                                  EPSG <span class="op">=</span> <span class="va">epsg</span>, </span>
<span>                                  country_name <span class="op">=</span> <span class="st">"New Caledonia"</span>,</span>
<span>                                  destination <span class="op">=</span> <span class="st">"/home/pierre/Bureau/NC"</span>,</span>
<span>                                  resolution <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>                                  rm_download <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>This chunk code take around 209 seconds to run.</p>
</div>
<div class="section level2">
<h2 id="download-climatic-variables-in-one-file">Download climatic variables in one file<a class="anchor" aria-label="anchor" href="#download-climatic-variables-in-one-file"></a>
</h2>
<p>Climatic variables are extract from <a href="https://chelsa-climate.org/" class="external-link">chelsa-climat.org</a>.</p>
<p>We get with <code>get_chelsa_variables</code> function many
variables. You can find the chelsa’s documentation <a href="https://chelsa-climate.org/wp-admin/download-page/CHELSA_tech_specification_V2.pdf" class="external-link">here</a>
about all variables downloaded. Variables give the average value on the
data recovered between 1981 and 2010. Some variables are available for
each month like average temperature, min temperature, max temperature,
precipitation, potential evapotranspiration (PET) with Penman’s formula
and Thornthwaite’s formula, and total cloud cover. Others variables are
annualy available : climatic water deficit (with Penman’s formula and
Thornthwaite’s formula), number of dry month (with Penman’s formula and
Thornthwaite’s formula) and 19 bio variables. This function takes around
15min to run.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">climat_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_chelsa_variables.html">get_chelsa_variables</a></span><span class="op">(</span>extent <span class="op">=</span> <span class="va">extent</span>,</span>
<span>                                      EPSG <span class="op">=</span> <span class="va">epsg</span>,</span>
<span>                                      destination <span class="op">=</span> <span class="st">"/home/pierre/Bureau/NC"</span>,</span>
<span>                                      resolution <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>                                      rm_download <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="merge-environmental-and-climatic-variables">Merge environmental and climatic variables<a class="anchor" aria-label="anchor" href="#merge-environmental-and-climatic-variables"></a>
</h2>
<p>Now you can merge all our variables in one file.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">merge_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/merge_files.html">merge_files</a></span><span class="op">(</span>environ_path <span class="op">=</span> <span class="va">environ_path</span>,</span>
<span>                          climat_path <span class="op">=</span> <span class="va">climat_path</span>, </span>
<span>                          destination <span class="op">=</span> <span class="st">"/home/pierre/Bureau/NC"</span><span class="op">)</span></span></code></pre></div>
<p>This chunk code take around 30 seconds to run. In our case,
gecevar.tif is a 8.7Mb weight file. Output is a absolute path to
gecevar.tif file whom just been created.</p>
</div>
<div class="section level2">
<h2 id="learn-more-about-each-variables">Learn more about each variables<a class="anchor" aria-label="anchor" href="#learn-more-about-each-variables"></a>
</h2>
<p>Elevation is extract from <a href="https://soilgrids.org/" class="external-link">soilgrids.org</a>. Aspect, roughness and
slope are computed with <a href="https://gdal.org/index.html#" class="external-link">gdal</a>
library. Solar radiation is computed with <a href="https://grass.osgeo.org/grass80/manuals/" class="external-link">grass</a> by using
elevation, aspect, slope and roughness. Solar radiation is calculated on
equinox day (20th March). Soilgrids data are extract from <a href="https://soilgrids.org/" class="external-link">soilgrids.org</a>. Distance to sea is
computed with <a href="https://gdal.org/index.html#" class="external-link">gdal</a> library.
Distance to road/place/watering place are computed with <a href="https://www.openstreetmap.org" class="external-link">openstreetmap.org</a> and <a href="https://gdal.org/index.html#" class="external-link">gdal</a> library. Protected area are
extracted from <a href="https://www.protectedplanet.net/en" class="external-link">protectedplanet.net</a>,
enable to extract only countries. Climatic variables are extracted from
<a href="https://chelsa-climate.org" class="external-link">chelsa-climat.org</a>. Precise
definition of bio variables are available on <a href="https://chelsa-climate.org/wp-admin/download-page/CHELSA_tech_specification_V2.pdf" class="external-link">chelsa-climat.org</a>.</p>
<table class="table">
<thead><tr class="header">
<th>Name</th>
<th>Unit</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Elevation</td>
<td>m</td>
</tr>
<tr class="even">
<td>Aspect</td>
<td>degrees</td>
</tr>
<tr class="odd">
<td>Roughness</td>
<td>m</td>
</tr>
<tr class="even">
<td>Slope</td>
<td>degrees</td>
</tr>
<tr class="odd">
<td>Solar radiation</td>
<td><span class="math inline">\(Wh.m^{-2}.day\)</span></td>
</tr>
<tr class="even">
<td>Soilgrids</td>
<td>category</td>
</tr>
<tr class="odd">
<td>Distance sea</td>
<td>m</td>
</tr>
<tr class="even">
<td>Distance road</td>
<td>m</td>
</tr>
<tr class="odd">
<td>Distance place</td>
<td>m</td>
</tr>
<tr class="even">
<td>Distance watering place</td>
<td>m</td>
</tr>
<tr class="odd">
<td>Protected Area (WDPA)</td>
<td>category</td>
</tr>
<tr class="even">
<td>Temperature average (tas)</td>
<td>°C x 10</td>
</tr>
<tr class="odd">
<td>Temperature min (tasmin)</td>
<td>°C x 10</td>
</tr>
<tr class="even">
<td>Temperature max (tasmax)</td>
<td>°C x 10</td>
</tr>
<tr class="odd">
<td>Precipitation</td>
<td><span class="math inline">\(kg.m^{-1}\)</span></td>
</tr>
<tr class="even">
<td>Cloud area fraction (clt)</td>
<td>%</td>
</tr>
<tr class="odd">
<td>PET Penman</td>
<td><span class="math inline">\(kg.m^{-1}\)</span></td>
</tr>
<tr class="even">
<td>PET Thornthwaite</td>
<td><span class="math inline">\(kg.m^{-1}\)</span></td>
</tr>
<tr class="odd">
<td>Climatic Water Deficit (Penman)</td>
<td><span class="math inline">\(kg.m^{-1}\)</span></td>
</tr>
<tr class="even">
<td>Climatic Water Deficit (Thornthwaite)</td>
<td><span class="math inline">\(kg.m^{-1}\)</span></td>
</tr>
<tr class="odd">
<td>Number of dry month (Penman)</td>
<td>month</td>
</tr>
<tr class="even">
<td>Number of dry month (Thornthwaite)</td>
<td>month</td>
</tr>
<tr class="odd">
<td>bio 1</td>
<td>°C x 10</td>
</tr>
<tr class="even">
<td>bio 2</td>
<td>°C x 10</td>
</tr>
<tr class="odd">
<td>bio 3</td>
<td>°C x 10</td>
</tr>
<tr class="even">
<td>bio 4</td>
<td>°C x 10</td>
</tr>
<tr class="odd">
<td>bio 5</td>
<td>°C x 10</td>
</tr>
<tr class="even">
<td>bio 6</td>
<td>°C x 10</td>
</tr>
<tr class="odd">
<td>bio 7</td>
<td>°C x 10</td>
</tr>
<tr class="even">
<td>bio 8</td>
<td>°C x 10</td>
</tr>
<tr class="odd">
<td>bio 9</td>
<td>°C x 10</td>
</tr>
<tr class="even">
<td>bio 10</td>
<td>°C x 10</td>
</tr>
<tr class="odd">
<td>bio 11</td>
<td>°C x 10</td>
</tr>
<tr class="even">
<td>bio 12</td>
<td><span class="math inline">\(kg.m^{-2}.year^{-1}\)</span></td>
</tr>
<tr class="odd">
<td>bio 13</td>
<td><span class="math inline">\(kg.m^{-2}.month^{-1}\)</span></td>
</tr>
<tr class="even">
<td>bio 14</td>
<td><span class="math inline">\(kg.m^{-2}.month^{-1}\)</span></td>
</tr>
<tr class="odd">
<td>bio 15</td>
<td><span class="math inline">\(kg.m^{-2}\)</span></td>
</tr>
<tr class="even">
<td>bio 16</td>
<td><span class="math inline">\(kg.m^{-2}.month^{-1}\)</span></td>
</tr>
<tr class="odd">
<td>bio 17</td>
<td><span class="math inline">\(kg.m^{-2}.month^{-1}\)</span></td>
</tr>
<tr class="even">
<td>bio 18</td>
<td><span class="math inline">\(kg.m^{-2}.month^{-1}\)</span></td>
</tr>
<tr class="odd">
<td>bio 19</td>
<td><span class="math inline">\(kg.m^{-2}.month^{-1}\)</span></td>
</tr>
</tbody>
</table>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Pierre Guillaumont, <a href="https://ecology.ghislainv.fr" class="external-link">Ghislain Vieilledent</a>, <a href="https://www.cirad.fr" class="external-link"><img src="reference/figures/logo-cirad.svg" height="24"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
